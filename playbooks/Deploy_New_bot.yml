---
- name: Deploy New Bot
  hosts: 192.168.50.6
  vars:
    # To be defined by the user
    bot_name: placeholder
    bot_port: placeholder

  gather_facts: false
  tasks:
#------------------------------- CREATING DIRECTORY TREE AND FILES FOR THE NEW BOT
# You can also use the 'cmd' parameter instead of free form format.
    - name: This command will change the working directory to somedir/.
      when: bot_name == "test"
      register: output1
      command: "sudo /bin/bash /kai/botfs/deploy/deployNewBot.sh"
      #args:
      #  chdir: somedir/
      #shell:
      #  cmd: pwd 
      #  #chdir: /home/kai

    #- name: Change the working directory to somedir/ before executing the command.
    #  when: bot_name == "test"
    #  register: output1
    #  command: "chmod +x DeployBot/CreateFiles.sh"
      #args:
      #  chdir: somedir/


    - name: Print Output
      #when: output.rc == 0 # route_action == "add" and 
      debug: var=output1 #.stdout_lines

    #- name: Change the working directory to somedir/ before executing the command.
    #  when: bot_name == "test"
    #  register: output2
    #  command: "DeployBot/CreateFiles.sh"
      #args:
      #  chdir: somedir/


    #- name: Print Output
    #  #when: output.rc == 0 # route_action == "add" and 
    #  debug: var=output2 #.stdout_lines

